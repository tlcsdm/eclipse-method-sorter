<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="Java Method Sorter"
            class="com.tlcsdm.eclipse.methodsorter.preferences.PreferencePage"
            id="com.tlcsdm.eclipse.methodsorter.preferences.CleanCodeMethodSorter">
      </page>
</extension>
   
<extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.tlcsdm.eclipse.methodsorter.preferences.PreferenceInitializer">
      </initializer>
</extension>
   
<!-- Menus -->
<extension
      point="org.eclipse.ui.menus">
    
   <menuContribution
         allPopups="true"
         locationURI="popup:org.eclipse.jdt.ui.source.menu?before=generateGroup">
      <separator name="com.tlcsdm.eclipse.methodsorter.begin" visible="true" />
      <command
            commandId="com.tlcsdm.eclipse.methodsorter.ccms2"
            id="com.tlcsdm.eclipse.methodsorter.actions.CCMS2"
            label="Sort Methods..."
            mnemonic="Java Method Sorter"
            style="push">
      </command>
      <command
	        commandId="com.tlcsdm.eclipse.methodsorter.randomsorter"
	        id="com.tlcsdm.eclipse.methodsorter.actions.randomsorter"
	        label="Shuffle Methods Randomly..."
	        mnemonic="Random Method Shuffler"
	        style="push">
 	  </command>
 	  <separator name="com.tlcsdm.eclipse.methodsorter.end" visible="true" />
   	</menuContribution>
   	   
</extension>

<!-- Add to Source Menu -->
<extension point="org.eclipse.ui.menus">
    <menuContribution
        locationURI="menu:org.eclipse.jdt.ui.source.menu?after=additions">

        <command
            commandId="com.tlcsdm.eclipse.methodsorter.commands.sortMethods"
            label="Sort Methods..."
            icon="icons/icon16.png"
            style="push" >
            <visibleWhen>
                <with variable="activePartId">
                    <equals value="org.eclipse.jdt.ui.CompilationUnitEditor"/>
                </with>
            </visibleWhen>
        </command>

    </menuContribution>
</extension>

<!-- Commands -->
<extension
    	point="org.eclipse.ui.commands">
   	<command
         defaultHandler="com.tlcsdm.eclipse.methodsorter.handler.BatchProcessingHandler"
         id="com.tlcsdm.eclipse.methodsorter.ccms2"
         name="Java Method Sort">
   	</command>
   	
	<command
         defaultHandler="com.tlcsdm.eclipse.methodsorter.handler.RandomMethodSorterHandler"
         id="com.tlcsdm.eclipse.methodsorter.randomsorter"
         name="Random Method Shuffler">
   </command>
 <category
       id="com.tlcsdm.eclipse.methodsorter.commands.category"
       name="Clean Code">
 </category>
 <command
       categoryId="com.tlcsdm.eclipse.methodsorter.commands.category"
       id="com.tlcsdm.eclipse.methodsorter.commands.sortMethods"
       name="Sort Methods...">
 </command>

</extension>
<extension
      point="org.eclipse.ui.handlers">
   <handler
         class="com.tlcsdm.eclipse.methodsorter.handler.SingleUnitHandler"
         commandId="com.tlcsdm.eclipse.methodsorter.commands.sortMethods">
   </handler>
</extension>
<extension
      point="org.eclipse.ui.bindings">
   <key
         commandId="com.tlcsdm.eclipse.methodsorter.commands.sortMethods"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
         sequence="M3+S">
   </key>
</extension>

</plugin>
